---
title: "Reproducible Analytical Pipeline"
author: "Joseph Crispell & Nathan Begbie"
date: "`r format(Sys.Date(), '%d %b %Y')`"
output: 
  ioslides_presentation:
    logo: images/logos/DataScienceCampus_logo_square.png
    widescreen: true
    css: css/table.css
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

<!-- Extra custom code to add "OFFICIAL" into the header -->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>

<script>
    $(document).ready(function() {
      $('slide:not(.title-slide, .backdrop, .segue)').append('<header label=\"OFFICIAL\"></header>');    
    })
</script>

<style>
  header:after {
    content: attr(label);
    font-size: 12pt;
    position: absolute;
    top: 10px;
    left: 10px;
    line-height: 1.9;
  }
</style>

<!-- END custom code block for header -->


<!-- TO DO

- Copy in content from Nathan's slides
- Thinking of hypothetical project to update into RAP - refer to throughout

-->

## What is a Reproducible Analytical Pipeline (RAP)?

- It is easily repeatable
- It is easily extendable
- It is automated
- It minimises mistakes
- It is fast
- It builds trust

## Let's think about a traditional analysis

<img src="images/TraditionalAnalysis.png" width="85%" height="auto" align="center">

## What are the issues?

- Lots of manual steps
- Hard to repeat
- Mistakes are easy to make and hard to track
- The steps aren't recorded
- How do we keep track of which file versions people have?

## What about a RAP?

<img src="images/ReproducibleAnalyticalPipeline.png" width="90%" height="auto" align="center">

## All the functionality in one place

<img src="images/ReproducibleAnalyticalPipeline_expanded.png" width="90%" height="auto" align="center">

## What are the benefits?

- It is easy for others to use
- Others can change and adapt
- All steps are recorded
  - Including whilst it is built
- It is automated
- It is fast
- It is open and promotes trust

## Is it Data Science?

<img src="images/BuildingBlock.png" width="100%" height="auto" align="center">

No, it is a building block that's essential for data science!

## What do we need?

- Open-source tools
- Version control with `git`
- To consider reproducibility
- Time to learn
  
## Why open-source instead of proprietary?

- An online community of users - R and Python are used by millions all over the world
- Free for anyone to use - it is easier to share
- Very powerful and flexible
- Proprietary tools are amazing, powerful and independently maintained but not everyone can access them


## What is version control?

Tracking the three **W**s:

- **W**ho did this?
- **W**hat did they change?
- **W**hy?

A centralised place to store your code.

A decentralised was of writing and developing your code.

`git`

REALLY NICE TURING IMAGE HERE

## Which version control should I use?

| Tool      | Cost | Where?           | Required?         |
| --------- | ---- | ---------------- | ----------------- |
| Github    | Free | Online - Public  |                   |
| Gitlab    | Free | Local            | IT infrastructure |
| Bitbucket | Paid |                  |                   |
| Azure     | Paid | Online - Private |                   |

## What do we mean by reproducible?

In the future, we want to be able to look back at our work today and be able to repeat everything we've done easily

What we need to think about:
- What does our tool depend on?
- What sort of extreme cases could break our tool?
- What is each piece of code doing?

INSERT IMAGES

## Producing the publication

Usually involves writing and interpretation as well as a lot of copying and pasting images. 

Docoments are revised using comments, tracking changes, email, and creating copies

Why not use code to generate your report?

- LaTeX
- Markdown
- Jupyter notebook
- Rmarkdown

## Getting the balance right

Maintenance versus automation

## What are challenges?

- Infrastructure
- Data privacy
- Expertise
- Legacy systems

## Case studies ...

## Mentoring framework

## Useful resources

https://dataingovernment.blog.gov.uk/2017/03/27/reproducible-analytical-pipeline/

https://ukgovdatascience.github.io/rap-website/

https://the-turing-way.netlify.com
