---
title: "Reproducible Analytical Pipeline"
author: "Joseph Crispell & Nathan Begbie"
date: "`r format(Sys.Date(), '%d %b %Y')`"
output: 
  ioslides_presentation:
    logo: images/logos/DataScienceCampus_logo_square.png
    widescreen: true
    css: css/custom.css
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

<!-- Extra custom code to add "OFFICIAL" into the header -->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>

<script>
    $(document).ready(function() {
      $('slide:not(.title-slide, .backdrop, .segue)').append('<header label=\"OFFICIAL\"></header>');    
    })
</script>

<style>
  header:after {
    content: attr(label);
    font-size: 12pt;
    position: absolute;
    top: 10px;
    left: 10px;
    line-height: 1.9;
  }
</style>

<!-- END custom code block for header -->

## What is a Reproducible Analytical Pipeline (RAP)?

<a href="https://the-turing-way.netlify.com/introduction/introduction"> <img src="images/ReusablePipeline.png" width="65%" height="auto" align="right" alt="Source: The Turing Way"> </a>

<br><br>

- It is easily repeatable
- It is easily extendable
- It is automated
- It minimises mistakes
- It is fast
- It builds trust

## Let's think about a traditional analysis
<p class="aligncenter">
    <img src="images/TraditionalAnalysis.png" width="85%" height="auto" align="center">
</p>


## What are the issues?

<img src="images/TraditionalMess.png" width="50%" height="auto" align="right">

<br>

- Lots of manual steps
- Hard to reproduce
- Mistakes are easily made and hard to track
- The steps aren't recorded
- How do we keep track of which file versions people have?

## What about a RAP?

<img src="images/ReproducibleAnalyticalPipeline.png" width="90%" height="auto" align="center">

## All the functionality in one place

<img src="images/ReproducibleAnalyticalPipeline_expanded.png" width="90%" height="auto" align="center">

## What are the benefits?

<a href="https://the-turing-way.netlify.com/introduction/introduction"> <img src="images/ReusablePipeline.png" width="65%" height="auto" align="right" alt="Source: The Turing Way"> </a>

<br>

- Easy for others to use
- Others can change and adapt
- All steps are recorded
  - Including whilst it is built
- Automated and fast
- Open and promotes trust

## Is it Data Science?

<img src="images/BuildingBlock_datascience.png" width="100%" height="auto" align="center">

No, it is a building block that's essential for data science!

## What do we need?

- Open-source tools
- Version control with `git`
- To consider reproducibility
- Time to learn

<a href="https://git-scm.com/"> <img src="images/logos/git_logo.jpg" width="15%" height="auto"> </a>
&nbsp;&nbsp;&nbsp;&nbsp;
<a href="https://rstudio.com/"> <img src="images/logos/RStudio_logo.png" width="15%" height="auto"> </a>
&nbsp;&nbsp;&nbsp;&nbsp;
<a href="https://www.python.org/"> <img src="images/logos/Python_logo.png" width="15%" height="auto"> </a>
&nbsp;&nbsp;&nbsp;&nbsp;
<a href="https://www.w3schools.com/sql/sql_intro.asp"> <img src="images/logos/SQL_logo.jfif" width="15%" height="auto"> </a>
&nbsp;&nbsp;&nbsp;&nbsp;
<a href="https://www.java.com/en/"> <img src="images/logos/Java_logo.png" width="15%" height="auto"> </a>

  
## Why open-source instead of proprietary?

<a href="https://the-turing-way.netlify.com/introduction/introduction"> <img src="images/DecolonisingKnowledge.jpg" width="50%" height="auto" align="right" alt="Source: The Turing Way"> </a>

<br>

Open source tools are:

- Used by millions - huge supportive online community
- Flexible to all data sources
- Free for anyone to use - it is easier to share
- Flexible to all output types

## What is version control?

Tracking the three **W**s: **W**ho made **W**hich change and **W**hy? <br><br>

<img src="images/VersionControl_explained.png" width="100%" height="auto" align="center">


## For example, take a look at this [presentation](https://github.com/datasciencecampus/gov-uk-rap-materials)

<img src="images/MyVersionHistory.png" width="80%" height="auto" align="center">


## Why use version control?

<img src="images/logos/git_logo.png" width="40%" height="auto" align="right">

<br>

- One place to store your code
- You and collaborators are free to write and develop locally
- Complete documented history of all changes made
- Easy to share
- Your future self will thank you! 

## Which version control should I use?

| Tool                                                              | Cost   | Where is master? | Advantage              | Disadvantage
| ----------------------------------------------------------------- | ------ | ---------------- | -----------------------|
| [Github](https://github.com/)                                     | Free   | Online           | Huge user base         | \$\$\$ for private repositories 
| [Gitlab](https://about.gitlab.com/)                               | Free   | Local or Online  | Continuous integration | Smaller user base
| [Bitbucket](https://bitbucket.org/)                               | \$\$\$ | Cloud            | Cloud security         | Harder to share
| [Azure](https://azure.microsoft.com/en-us/services/devops/repos/) | \$\$\$ | Cloud            | Cloud security         | Harder to share

<br>

<a href="https://github.com/"> <img src="images/logos/github_logo.png" width="15%" height="auto"> </a>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a href="https://about.gitlab.com/"> <img src="images/logos/GitLab_logo.png" width="15%" height="auto"> </a>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a href="https://bitbucket.org/"> <img src="images/logos/bitbucket_logo.png" width="15%" height="auto"> </a>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a href="https://azure.microsoft.com/en-us/services/devops/repos/"> <img src="images/logos/azure_logo.png" width="15%" height="auto"> </a>

## What do we mean by reproducible?

<a href="https://the-turing-way.netlify.com/introduction/introduction"> <img src="images/ReproducibleDefinitionGrid.jpg" width="60%" height="auto" align="right" alt="Source: The Turing Way"> </a>

<br>

We want to look back and be able to repeat our work easily and quickly.

What are the benefits?

- Helps build trust
- Not reliant on single individual
- Can be adapted and re-used

## Making a RAP is difficult

Before we start, here are a few things to consider:

- IT infrastructure available
- Data privacy - where and how am I storing my data?
- Expertise - what training do I need?
- Legacy systems - what are the barriers to transitioning?

## But it is worth it!

<p class="aligncenter">
    <a href="https://the-turing-way.netlify.com/introduction/introduction"> <img src="images/Community.png" width="80%" height="auto" alt="Source: The Turing Way"> </a>
</p>

## And we don't have to do it all at once

<br><br>
<img src="images/BuildingBlock_rap.png" width="60%" height="auto" align="right">

The building blocks of a RAP:

- Version control
- Using open-source tools
- Create reproducible code

<br>

\... are useful in their own right, each will improve the auditability, speed and quality of your work.

## RAP in practice

## Mentoring framework

## Useful resources

https://ukgovdatascience.github.io/rap-website/index.html

https://www.udemy.com/course/reproducible-analytical-pipelines/

https://datasciencecampus.github.io/coding-standards/

https://the-turing-way.netlify.com

https://github.com/datasciencecampus/gov-uk-rap-materials
